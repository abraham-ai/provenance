# Setup

## Install Rust, Foundry, Forge

https://book.getfoundry.sh/getting-started/installation

## Contracts

Installation:

```
cd contracts
foundryup
pnpm i
forge install
forge test
```

## Graph Node

```
git clone https://github.com/abraham-ai/graph-node.git
cd graph-node/docker
export MNEMONIC="test test test test test test test test test test test junk"
docker compose up
```

There should now be a local `anvil` blockchain running on localhost:8547, and a local graph node.

## Deploy Contracts To Local Blockchain

```
cd contracts
cp .env.example .env
forge script script/Deploy.s.sol --broadcast --fork-url http://localhost:8547
```

## Deploy Local Subgraph

```
cd eden-subgraph
yarn
yarn refresh-local
yarn prep 1337
yarn create-local
yarn deploy-local
```

Now, navigate to http://localhost:8000/subgraphs/name/eden-subgraph-local/graphql?query=query+%7B%0A++mintEvents+%7B%0A++++id%0A++%7D%0A%7D

Running this query should show a single mint event.